name: Trigger Autotest

on:
  push:
    branches: [main, master]
  pull_request:
  workflow_dispatch:

jobs:
  trigger-autotest:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸŒŸ è§¦å‘ autotest è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹
        run: echo "ğŸš€ æ­£åœ¨å‡†å¤‡è§¦å‘ web_platform_autotest ä»“åº“çš„è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œè¯·è€å¿ƒç­‰å¾…ç»“æœ..."

      - name: Call autotest repo workflow
        uses: peter-evans/repository-dispatch@v3
        with:
          token: ${{ secrets.AUTOTEST_TOKEN }}
          repository: Luckily8/web_platform_autotest
          event-type: run-autotest

      - name: âœ… autotest è§¦å‘å®Œæˆ
        run: echo "ğŸ‰ autotest ä»“åº“çš„è‡ªåŠ¨æµ‹è¯•å·²æˆåŠŸè§¦å‘ï¼Œè¯·å‰å¾€å¯¹åº”ä»“åº“æŸ¥çœ‹æ‰§è¡Œè¯¦æƒ…ã€‚"
